- 코드 리뷰 흐름
    - 코드 리뷰 절차
        - 작성자가 자신의 작업 곤간에서 코드베이스에 적용할 변경 사항 작성 → 변경의 스냅샷 만들기( 코드 리뷰 도구에 업로드할 코드 패치와 관련된 설명) → 현재 코드베이스와의 diff를 떠서 코드 변경 사항 평가
        - 작성자는 초기 패치를 사용해 자동 리뷰 의견을 받거나 스스로 리뷰 수행 → 변경 내용이 만족스럽다면 한 명 이상의 리뷰어에게 메일을 보내 리뷰 요청
        - 리뷰어들은 코드 리뷰 도구에서 변경을 열고 해당 diff에 댓글로 의견 남기기 → 작성작에게 해결해야할 문제를 던져주거나, 단순히 유용한 정보 제공
        - 작성자는 피드백을 기초로 변경을 수정하고 새로운 스냅샷을 업로드한 후 리뷰어들에게 회신
        - 리뷰어들이 변경 내용에 모두 만족하면 LGTM(Looks good to me) 태그 추가
        - 모든 댓글이 해결되면 변경 승인 → 작성자는 코드 베이스에 커밋
- 코드 리뷰 @구글
    - 승인을 얻기 위한 세 가지 측면의 리뷰
        - 다른 엔지니어로부터 정확성과 이해 용이성 평가 → 작성자가 의도한 작업을 적절하게 수행하는지 평가
        - 변경되는 코드 영역을 관리하는 코드 소유자로부터 변경 코드가 적절하다는 (그리고 특정 디렉터리에 체크인해도 좋다는) 승인
        - 누군가로부터 가독성 승인 → 변경 코드가 해당 언어의 스타일과 모범 사례를 잘 따르고 조직에서 기대하는 방식으로 작성되어있는지 평가
        - 실제로 동료 엔지니어로부터 LGTM을 받고, 해당 코드 소유자와 가독성 인증자에게 승인 요청
- 코드 리뷰의 이점
    - 코드 정확성 확인
        - 변경에 적합한 테스트가 갖춰졌는지 확인
        - 설계가 적절한지 확인
        - 기능이 정확하게 동작하고 효율적인지 확인
        - 버그 필터링
        - 정적 분석이나 자동화 테스트 활용을 통해 자동 수행
    - 코드 이해 용이성
        - 코드 리뷰는 주어진 변경이 수많은 다른 사람에게도 쉽게 이해되는지를 평가하는 첫 번째 시험대
        - 리뷰어는 작성자가 선택한 설계를 존중
        - 그와 별개로, 코드가 잘 이해되지 않으면 **고객은 항상 옳다**는 관점에서 질문을 던져보기
    - 코드 일관성
        - 작성자가 다른 프로젝트로 이동하고 나서도 다른 이들이 작성자의 코드를 리팩터링해야할 경우도 있음 → 코드는 일정한 표준을 따라야 하며 그래야 유지보수가 용이함
        - 검토 사항
            - 해당 프로그래밍 언어의 모범 사례들을 잘 따라야한다
            - 같은 언어로 작성된 다른 코드들과 일관성 유지
            - 필요 이상으로 복잡하지 않아야함
    - 심리적, 문화적 이점
        - 소프트웨어 엔지니어에게 코드는 **자신의 것**이 아니라 협업을 통해 만들어지는 **조직의 공동 소유물**임을 인식시켜주는 효과 발생
        - 코드 리뷰가 제대로 작동한다면 작성자가 당연하게 여기던 가정이 틀릴 수 있음을 사전에 규정된 중립적인 방식으로 지적할 수 있음
        - 코드 리뷰는 작성자의 작업 결과를 검증하고 인정해주는 효과
        - 코드 리뷰가 필수이면 작성자들에게 자신의 코드를 한번 더 들여다보게 하는 효과
    - 지식 공유
        - 정보 교환의 수단
    - 코드 리뷰 자체의 히스토리
        - 코드베이스의 변경 이력을 기록하는 역할
- 코드 리뷰 모범 사례
    - 공손하고 전문가답게
        - 작성자가 선택한 방식을 존중하고 오직 그 방식에 결함이 있을 때만 대안 제시
        - 작성자가 선택한 방식에 결함이 있으면 작성자와 리뷰어 모두에게 배움의 기회로 생각할 것
        - 작성자는 자신의 선택 방식에 제기된 질문에 흥분하지 않고 처리 방식의 이유를 설명할 준비를 미리 해둬야한다
        - 리뷰어가 단 댓글은 모두 TODO item으로 취급해야한다
    - 작게 변경하기
        - 큰 변경보다 작은 변경이 더 낫다 → 리뷰어의 부담이 줄어듦
        - 작은 변경은 변경되는 코드가 200줄 이하
        - 작은 코드 리뷰를 통해 확장성을 유지
    - 변경 설명 잘쓰기
        - 변경 설명의 첫 줄 → 어떤 종류의 변경인지를 요약 & 구체적으로 무엇을 왜 변경하는 지 알려주는 자세한 설명도 필요
    - 리뷰어는 최소한으로
        - 대부분의 코드 리뷰는 한 명의 리뷰어만으로 진행
    - 가능한 한 자동화하기
        - 프로세스 중 자동화할 수 있는 요소는 자동화
        - 변경 제출되기 전 프리서브밋 프로세스에서 다양한 검사 수행
        - 문제 검출 시 변경을 거부하고, 리뷰 요청이 리뷰어에게 전달되지 않게 차단하고, 작성자에게 코드 수정 후 다시 제출 요청
- 코드 리뷰 유형
    - 그린필드 코드 리뷰
        - 대상 코드가 오랜 기간 존속될 수 있는지 평가하는 기회
        - API가 합의된 설계에 부합하고 테스트 확인 여부
        - 설계 문서 검토, 공개된 모든 API에 단위 테스트, 코드를 책임질 알맞은 소유자 배정
    - 동작 변경, 개선, 최적화
        - 코드 변경이 꼭 필요한지, 코드베이스를 개선하는 지 확인
        - 죽은 코드나 낡은 코드 제거는 코드베이스를 전반적으로 건실하게 만드는 방법
    - 버그 수정과 롤백
        - 버그 수정과 기능 변경 등의 다른 문제까지 묶어 처리하지 말 것→ 여러 주제가 섞이면 리뷰할 게 많아지고, 회귀 테스트나 롤백을 더 어렵게 만듦
        - 버그 수정 시 테스트를 보강해야함→ 기존 테스트가 충분하지 못했거나 특정 가정이 어긋났을 가능성이 크기 때문
    - 리팩터링과 대규모 변경
        - 자동 생성된 변경이라도 리뷰어가 정확성과 적용 가능성을 확인