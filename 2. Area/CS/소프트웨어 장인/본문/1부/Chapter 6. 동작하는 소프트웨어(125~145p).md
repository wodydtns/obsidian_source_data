- 소프트웨어 프로젝트가 실패하는 원인들은 아주 다양하다. 원인으로는 잘못된 비지니스 의사 결정, 더 우월한 경쟁자, 잘못된 프로젝트 관리, 높은 비용, 늦은 시장 대응 타이밍, 파트너십 부재, 기술적 한계, 시스템 통합 오류 등 매우 많다
- 많은 조직들이 소프트웨어 개발을 공장 라인처럼 취급한다. 그런 조직에서는 개발자들이 생산 라인 노동자처럼 저급 인력으로 보고 관리자들만 높은 보수를 받고 똑똑하면 된다고 생각한다.
- 소프트웨어 프로젝트에는 소스 코드 그 자체만큼 중요한 것은 없다. 나머지는 모두 부차적이다

## 동작하는 소프트웨어만으로는 부족하다
- 문제는 시간이 흐르면서 동작하는 소프트웨어에 대한 개념이 '고품질의 동작하는 소프트웨어'로 옮겨가고 있다 그럼에도 불구하고 애자일 프로젝드들이 수준 이하의 코드들이 많아지고 있다
## 정원 돌보기
>[!note]
>프로그래밍은 집을 짓는다기보다는 정원을 돌보는 것에 더 가깝다 
>==- 실용주의 프로그래머==

- 코드는 기계장치라기보다는 유기물이다.코드는 정원처럼 지속적인 유지보수가 필요하다. 1년 내내 정원이 아름다우려면 지속적인 돌봄이 필요하다

## 보이지 않는 위협
### 자신이 만든 소프트웨어에 인질이 되는 상황
- 기능을 수정하거나 새로 추가할 때 코드 베이스에 너무 많은 시간을 들여야 한다면, 개발자들이 기존 코드에 손을 대는 것을 두려워한다면 지체 없이 대응해야한다. 소프트웨어가 비지니스를 방해하고 지연시키기 때문에 이러한 상황은 상당히 위험하다
- 가장 큰 문제는 나쁜 코드가 개발자 외에 다른 사람들에게 보이지 않는다는 점이다. 개발자가 아닌 다른 사람이 문제를 인지했을 때는 이미 늦은 상태다. 코드의 품질을 돌보아야 하는 책임은 바로 개발자에게 있다

### 평범한 개발자가 아닌 장인을 고용하라
- 장인은 꾸준히 코드 베이스를 돌보고 두려움 없이 빠르게 리팩토링한다. 장인은 전체 애플리케이션을 몇 분만에 테스트할 수 있는 자동화 테스트를 구축하고 활용할 줄 안다. 장인에게 시간적인 제약이나 요구사항의 변경이 나쁜 코드를 위한 변명이 될 수는 없다

## 시간에 대한 잘못된 인식
### 기술적 부채에 대한 이야기
- 지금 만들고 있는 것은 완전히 새로운 기능이고 레거시와도 관계가 없다. 기술적 부채를 줄이는 것은 기존의 더러운 것을 청소하는 것이다. 이미 깨끗한 상태를 더럽혀서는 안 된다. 즉 어떤 상황이든 추가 코드로 인해 기술적 부채가 더해져서는 안된다

### 우리는 올바른 것을 하길 원한다
- 개발자들이 의도적으로 나쁜 코드를 작성하지는 않는다. 다만 항상 왜 그렇게 될 수밖에 없었는 핑곗거리르 찾는다. 
- 개발자는 항상 업무와 일정의 압박 속에 있다는 생각을 가지고 있다. 언제나 급하게 일해야 한다고 느낀다. 비지니스 팀이 일정에 관해 압박할 때도 있지만 스스로 쫓기는 경우가 대부분이다
- 소프트웨어 개발자의 삶에 있어 압박은 피할 수 없다. 우리는 압박을 받는다고 느낄 때 중심을 잃고 고만고만해진다. 게으른 탓이 아니다. 더 빨리 해야 한다고 느끼기 때문에 그렇게 한다

### 시간적 여유가 없는 바쁜 팀
- 단위테스트를 했다면 빨리 해결할 수 있는 일들이 많다

### 내겐 없는 여유, 다른 누군가에겐 있는 여유
- QA 전담 팀은 지양해야 할 안티-패턴이다. 테스터는 아무런 문제도 발견할 수 없어야 한다. 테스터가 버그를 발견하는 것은 개발자로서 대단히 수치스러운 일이다. 버그가 나올 때마다 우리가 일을 제대로 안 했다는 증거가 발견되는 것이다
- 테스트 주도 개발 방법론에 익숙해진 후 레거시 코드에 테스트를 만들어 넣은 이후로 코드 자체를 디버깅해야 하는 상황이 손에 꼽을 만큼 적어진다

### 단위 테스트 작성은 별개의 업무인가
- 단위 테스트는 우리가 코드를 작성하는 방식에 이미 녹아있는 것이지 별도의 작업이 아니다
	- 단위 테스트가 코드가 제대로 구현되었는지 확인하는 가장 좋은 방법이다
- 우리가 공식적인 작업 일정표에 무언가를 올려 놓는다는 것은 제품 오너가 그중 중요하지 않다고 생각하는 것을 삭제할 수 있는 권리를 준다는 것과 같다
	- 경험이 부족해 단위 테스트의 가치를 이해하지 못하는 제품 오너는 단위 테스트 구현 시간이 시간 낭비로 비춰질 수도 있다
### 효율적인 시간 활용
- 우리는 투자받은 금액과 시간을 자동화를 이용해 최대한 효율적으로 사용해야 한다. 
- 새로운 기능을 구현하기 전에, 그 기능이 완성된 후 여기저기 충돌 없이 매끄럽게 통합 될 수 있도록 사전 정비 작업을 해두어야 한다. 언제, 어떤 코드든 쉽게 테스트하고 통합할 수 있도록 주변을 잘 정리해야만 한다.

## 레거시 코드
>[!note]
>태도는 큰 차이를 가져올 수 있는 작은 요소다
> - ==윈스턴 처칠==

- 레거시 없이 백지 상태에서 시작하는 프로젝트는 항상 즐겁다. 자유롭게 기술을 선택하고, 최신의 프레임워크를 사용할 수 있으며 기존 기능을 깨뜨릴 걱정 없이 편하게 코딩할 수 있다
- 그린필드 프로젝트에서 일하는 것은 아주 즐겁다
- 하지만 레거시 코드는 그렇지 않지만, 새로운 직장에서 또다른 레거시 코드를 만나지 않을 가능성은 극히 낮다

### 태도의 변화
>[!note]
>무언가가 마음에 들지 않는다면 바꾸어라
>그것을 바꿀 수 없다면, 그에 대한 당신의 생각을 바꾸어라
>- 마리 엥겔브라이트==mary engelbreit==

- 레거시 코드를 다룰 때는 끙끙 앓으면서 상스런 말을 내뱉는 대신 그것을 이해하고 개선하려 노력해야 한다. 
- 보이스카웃 규칙 '처음 발견했을 때보다 더 깨끗하게'를 지속적으로 적용해야 한다
- 레거시 코드를 개선하고 이해도를 높이면 업무에 크게 도움이 된다. 보는 것 자체가 막막하기만 한 코드를 이해하려 든다는 것이 처음에는 무모할 수 있다. 작은 부분씩 집중해서 한 번에 하나씩 이해해 나간다면 조금씩 개선 가능하다. 테스트 코드를 작성하고 메서드와 클래스를 정리하며 변수명을 적합하게 바꾼느 등 점차적으로 코드를 이해하기 쉽고 다루기 편하게 만들어 갈 수 있다
- ==레거시 코드로 일하는 것은 거대한 직소 퍼즐을 푸는 것과 비슷하다==
	- 점진적으로 기존 코드에 대한 테스트 코드를 작성하면서 코드에 대한 이해도를 높이고 리팩토링 해나간다
	- 개선하는 코드 조각이 하나씩 늘어날 때마다 코드 전체를 개선하고 싶은 욕구가 일어난다
	- 코드의 중요 부분이 안정화되면 사용하고 싶었던 새롭고 멋진 프레임워크를 도입하는 것이 가능할 수도 있다
- 레거시 코드를 대할 때 우리는 두 가지 관점 중 하나를 선택할 수 있다. 하나는 지금 하고 있는 일을 고통스런 전생의 업보로 보는 것이고 다른 하나는 재미있고 도전적인 문제로 바라 보는 것이다. **"우리는 후자를 선택해야 한다"
### 고객과 개발자 모두의 만족
- 코드 리팩토링은 중독될 정도로 정말 재미있을 때가 있다. 즐겁게 일하는 것은 좋지만 항상 우리가 대가를 지불받고 있는 프로페셔널이라는 사실을 잊지 않고 고객이 비지니스 목적을 달성토록 주의를 기울여야 한다
