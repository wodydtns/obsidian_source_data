### 레플리카셋(ReplicaSet)
- 특정 수의 파드(Pod)가 항상 실행되도록 보장하는 역할
- 주요 기능
    - **파드의 복제**: 레플리카셋은 정의된 수의 파드를 항상 유지하려고 합니다. 만약 어떤 이유로 파드가 죽거나 사라지면, 레플리카셋이 자동으로 새로운 파드를 생성합니다.
    - **라벨 셀렉터(Label Selector)**: 레플리카셋은 라벨 셀렉터를 사용하여 관리할 파드를 선택합니다. 특정 라벨을 가진 파드를 지속적으로 감시하고, 필요한 수만큼 유지합니다.
### 디플로이먼트(Deployment)
- 레플리카셋을 생성하고 관리하는 상위 레벨의 리소스
- 주요 기능
    - **버전 관리**: 디플로이먼트는 애플리케이션의 새로운 버전을 롤아웃하고, 문제가 발생하면 롤백할 수 있는 기능을 제공합니다. 이는 애플리케이션의 지속적 배포(Continuous Deployment)에 매우 유용합니다.
    - **선형 배포(Blue-Green Deployment), 롤링 업데이트(Rolling Update)**: 디플로이먼트는 여러 배포 전략을 지원합니다. 롤링 업데이트는 한 번에 하나의 파드를 교체하는 방식으로, 애플리케이션의 다운타임을 최소화합니다.
    - **자동 스케일링**: 디플로이먼트는 HPA(Horizontal Pod Autoscaler)와 통합되어, 트래픽 증가에 따라 파드 수를 자동으로 조정할 수 있습니다.

### 레플리카셋과 디플로이먼트의 관계
- 레플리카셋은 디플로이먼트의 구성 요소 중 하나로, 디플로이먼트가 원하는 상태를 유지하기 위해 내부적으로 사용 
- 플로이먼트는 특정 버전의 애플리케이션을 배포할 때 새로운 레플리카셋을 생성하고, 이전 버전의 레플리카셋을 관리하여 롤아웃과 롤백을 수행
    
    ```java
    +------------------+
    |  Deployment      |
    |                  |
    |  +------------+  |
    |  | ReplicaSet |  |
    |  +------------+  |
    |                  |
    +------------------+
            |
            v
        +-------+
        |  Pod  |
        +-------+
        |  Pod  |
        +-------+
        |  Pod  |
        +-------+
    
    ```
    
### HPA(Horizontal Pod Autoscaler)
- 쿠버네티스(Kubernetes) 클러스터에서 파드(Pod)의 수를 자동으로 조정하여 애플리케이션의 성능과 가용성을 최적화하는 기능을 제공
- HPA는 CPU 사용률, 메모리 사용률, 사용자 정의 메트릭 등 다양한 메트릭 제어
- 주요 기능
    - **자동 스케일링**: HPA는 지정된 메트릭의 변화에 따라 파드의 수를 자동으로 조정합니다. 예를 들어, CPU 사용률이 설정된 임계값을 초과하면 HPA가 더 많은 파드를 생성하여 부하를 분산시킵니다.
    - **사용자 정의 메트릭 지원**: HPA는 기본적인 CPU 및 메모리 사용률 외에도 사용자 정의 메트릭을 기반으로 스케일링할 수 있습니다. 이를 통해 애플리케이션의 특성에 맞춘 세밀한 스케일링이 가능합니다.
    - **확장 및 축소**: HPA는 확장뿐만 아니라 트래픽 감소 시 파드의 수를 줄여 리소스를 효율적으로 사용할 수 있도록 합니다.
- 작동 방식
    - HPA는 쿠버네티스 API 서버에서 메트릭 데이터를 가져와 현재 리소스 사용량을 모니터링합니다. 그런 다음, 사용자가 설정한 목표 메트릭 값과 실제 메트릭 값을 비교하여 파드의 수를 조정