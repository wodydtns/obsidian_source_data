# 아키텍처 품질 측정 메트릭

## 1. 추상화 정도 (A, Abstractness)
- 공식: \[A = \frac{Na}{Nc}\]
- Na: 추상 클래스와 인터페이스의 수
- Nc: 전체 클래스 수
- 범위: 0 (완전 구체) ~ 1 (완전 추상)

## 2. 메인 시퀀스 거리 (D, Distance)
- 공식: \[D = |A + I - 1|\]
- A: 추상화 정도
- I: 불안정성
- 이상적인 값: 0 (메인 시퀀스 라인에 위치)
- 범위: 0 ~ 1

## 3. 순환 의존성 메트릭
### 순환 의존성 수
- 컴포넌트 간 순환 의존성의 총 개수
- 이상적인 값은 0

### 컴포넌트 간 의존성 깊이
- 의존성 체인의 최대 깊이
- 낮을수록 좋음

## 4. 결합도 메트릭
### 결합도 지표 (Coupling Factor)
- 공식:  CF = 실제_의존성_수 / 가능한_최대_의존성_수

### 가중 결합도 (Weighted Coupling)
- 공식: WC = Σ(의존성 × 가중치)
- 가중치:
	- 상속 관계: 3
	- 구현 관계: 2
	- 사용 관계: 1

## 5. 응집도 메트릭
### LCOM (Lack of Cohesion of Methods)
- 공식: LCOM = (공유하지 않는 메서드 쌍의 수) - (공유하는 메서드 쌍의 수)
- 낮을수록 좋음
- 음수인 경우 0으로 간주

### 응집도 지표 (Cohesion Factor)
- 공식:  CH =내부_관계_수 / 가능한_최대_내부_관계_수

## 6. 크기와 복잡도 메트릭
### 컴포넌트 크기
- 클래스 수
- 메서드 수
- 코드 라인 수 (LOC)

### 순환복잡도 (Cyclomatic Complexity)
- 공식: CC = E - N + 2P
- E: 제어 흐름 그래프의 엣지 수
- N: 노드 수
- P: 연결 컴포넌트 수

## 7. 변경 영향도 메트릭
### 변경 파급 효과 (Ripple Effect)
- 공식: RE = 직접영향컴포넌트 + (Σ 간접영향컴포넌트 × 가중치)

### 변경 안정성 지수 (Change Stability Index)
- 공식:  CSI = 변경없이_유지된_컴포넌트 / 전체_컴포넌트

## 8. 패키지 메트릭
### 패키지 의존성 지표
- 공식: PDI = 외부의존성 / 내부의존성
- 낮을수록 좋음

### 패키지 응집도 지표
- 공식: PCI = 내부관계 / (클래스 수 × (클래스 수 - 1))
- 높을수록 좋음

## 9. 유지보수성 지표
### 유지보수성 지수 (Maintainability Index)
- 공식: MI = 171 - 5.2ln(HV) - 0.23CC - 16.2ln(LOC)
- HV: Halstead Volume
- CC: 순환복잡도
- LOC: 코드 라인 수

## 실무 적용 시 고려사항
### 1. 컨텍스트 중요성
- 모든 메트릭이 모든 상황에 적합하지 않음
- 프로젝트의 특성에 맞는 메트릭 선택

### 2. 통합적 접근
- 단일 메트릭이 아닌 여러 메트릭의 조합 사용
- 전체적인 품질 평가를 위해 다양한 관점 고려

### 3. 지속적 모니터링
- 정기적인 메트릭 측정
- 트렌드 분석을 통한 품질 변화 추적

### 4. 임계값 설정
- 프로젝트에 적합한 메트릭 임계값 정의
- 점진적인 개선 목표 설정

---
관련 태그: #아키텍처 #품질측정 #메트릭 #소프트웨어공학
